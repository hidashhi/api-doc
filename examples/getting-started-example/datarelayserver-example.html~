<!--
/**
 * Hidashhi - Data Relay Server client implementation using socket.io.
 *
 * Socket.IO.js build:0.9.16 lib used: https://cdn-beta2.hidashhi.com/js/socket.io.js
 * 
 * For documentation and more examples see: http://github.com/hidashhi
 *
 *
 * (c) 2014 Hidashhi
 * THIS WORK ‘AS-IS’ WE PROVIDE. 
 * NO WARRANTY EXPRESS OR IMPLIED.
 * WE’VE DONE OUR BEST, TO DEBUG AND TEST.
 * LIABILITY FOR DAMAGES DENIED.
 * 
 * PERMISSION IS GRANTED HEREBY, TO COPY, SHARE, AND MODIFY.
 * USE AS IS FIT, FREE OR FOR PROFIT.
 * THESE RIGHTS, ON THIS NOTICE, RELY.
 */
-->
<html>
  <head>
    <script src="https://cdn-beta2.hidashhi.com/js/socket.io.min.js"></script>
    <script type="text/javascript">
      var accessToken = "<a-valid-hidashhi-accesstoken>";
      var callCodeTag = "kiiroo-data-relay-example-call-code-12345";
      var drsUrl = "https://drs-beta2.hidashhi.com";

      // Connect to data relay server
      var socket = io.connect(drsUrl+"?accessToken="+accessToken);
      socket.on('connect', function() {

        // Listen to 'message' event.
        socket.on('message', function(message) {
          console.log('Message received: ', message);
        });

        // Join a room
        socket.emit('joinRoom', {name: callCodeTag});

        // Every 50ms send a 'message' event.
        var i = 0;
        setInterval(function() {
          socket.emit('message', {data: i});
          i++;
        }, 50);
      });
    </script>
  </head>
  <body>
    Check console.log - all data is logged there.
  </body>
</html>